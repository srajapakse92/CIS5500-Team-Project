{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport useState from \"rc-util/es/hooks/useState\";\nimport * as React from 'react';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/button';\n\nfunction isThenable(thing) {\n  return !!(thing && !!thing.then);\n}\n\nvar ActionButton = function ActionButton(props) {\n  var clickedRef = React.useRef(false);\n  var ref = React.useRef();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var close = props.close;\n\n  var onInternalClose = function onInternalClose() {\n    close === null || close === void 0 ? void 0 : close.apply(void 0, arguments);\n  };\n\n  React.useEffect(function () {\n    var timeoutId;\n\n    if (props.autoFocus) {\n      var $this = ref.current;\n      timeoutId = setTimeout(function () {\n        return $this.focus();\n      });\n    }\n\n    return function () {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    };\n  }, []);\n\n  var handlePromiseOnOk = function handlePromiseOnOk(returnValueOfOnOk) {\n    if (!isThenable(returnValueOfOnOk)) {\n      return;\n    }\n\n    setLoading(true);\n    returnValueOfOnOk.then(function () {\n      setLoading(false, true);\n      onInternalClose.apply(void 0, arguments);\n      clickedRef.current = false;\n    }, function (e) {\n      // Emit error when catch promise reject\n      // eslint-disable-next-line no-console\n      console.error(e); // See: https://github.com/ant-design/ant-design/issues/6183\n\n      setLoading(false, true);\n      clickedRef.current = false;\n    });\n  };\n\n  var onClick = function onClick(e) {\n    var actionFn = props.actionFn;\n\n    if (clickedRef.current) {\n      return;\n    }\n\n    clickedRef.current = true;\n\n    if (!actionFn) {\n      onInternalClose();\n      return;\n    }\n\n    var returnValueOfOnOk;\n\n    if (props.emitEvent) {\n      returnValueOfOnOk = actionFn(e);\n\n      if (props.quitOnNullishReturnValue && !isThenable(returnValueOfOnOk)) {\n        clickedRef.current = false;\n        onInternalClose(e);\n        return;\n      }\n    } else if (actionFn.length) {\n      returnValueOfOnOk = actionFn(close); // https://github.com/ant-design/ant-design/issues/23358\n\n      clickedRef.current = false;\n    } else {\n      returnValueOfOnOk = actionFn();\n\n      if (!returnValueOfOnOk) {\n        onInternalClose();\n        return;\n      }\n    }\n\n    handlePromiseOnOk(returnValueOfOnOk);\n  };\n\n  var type = props.type,\n      children = props.children,\n      prefixCls = props.prefixCls,\n      buttonProps = props.buttonProps;\n  return /*#__PURE__*/React.createElement(Button, _extends({}, convertLegacyProps(type), {\n    onClick: onClick,\n    loading: loading,\n    prefixCls: prefixCls\n  }, buttonProps, {\n    ref: ref\n  }), children);\n};\n\nexport default ActionButton;","map":{"version":3,"sources":["/Users/derek/MCIT/550/Project/CIS5500-Team-Project/tube-db/client/node_modules/antd/es/_util/ActionButton.js"],"names":["_extends","_slicedToArray","useState","React","Button","convertLegacyProps","isThenable","thing","then","ActionButton","props","clickedRef","useRef","ref","_useState","_useState2","loading","setLoading","close","onInternalClose","apply","arguments","useEffect","timeoutId","autoFocus","$this","current","setTimeout","focus","clearTimeout","handlePromiseOnOk","returnValueOfOnOk","e","console","error","onClick","actionFn","emitEvent","quitOnNullishReturnValue","length","type","children","prefixCls","buttonProps","createElement"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport useState from \"rc-util/es/hooks/useState\";\nimport * as React from 'react';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/button';\n\nfunction isThenable(thing) {\n  return !!(thing && !!thing.then);\n}\n\nvar ActionButton = function ActionButton(props) {\n  var clickedRef = React.useRef(false);\n  var ref = React.useRef();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var close = props.close;\n\n  var onInternalClose = function onInternalClose() {\n    close === null || close === void 0 ? void 0 : close.apply(void 0, arguments);\n  };\n\n  React.useEffect(function () {\n    var timeoutId;\n\n    if (props.autoFocus) {\n      var $this = ref.current;\n      timeoutId = setTimeout(function () {\n        return $this.focus();\n      });\n    }\n\n    return function () {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    };\n  }, []);\n\n  var handlePromiseOnOk = function handlePromiseOnOk(returnValueOfOnOk) {\n    if (!isThenable(returnValueOfOnOk)) {\n      return;\n    }\n\n    setLoading(true);\n    returnValueOfOnOk.then(function () {\n      setLoading(false, true);\n      onInternalClose.apply(void 0, arguments);\n      clickedRef.current = false;\n    }, function (e) {\n      // Emit error when catch promise reject\n      // eslint-disable-next-line no-console\n      console.error(e); // See: https://github.com/ant-design/ant-design/issues/6183\n\n      setLoading(false, true);\n      clickedRef.current = false;\n    });\n  };\n\n  var onClick = function onClick(e) {\n    var actionFn = props.actionFn;\n\n    if (clickedRef.current) {\n      return;\n    }\n\n    clickedRef.current = true;\n\n    if (!actionFn) {\n      onInternalClose();\n      return;\n    }\n\n    var returnValueOfOnOk;\n\n    if (props.emitEvent) {\n      returnValueOfOnOk = actionFn(e);\n\n      if (props.quitOnNullishReturnValue && !isThenable(returnValueOfOnOk)) {\n        clickedRef.current = false;\n        onInternalClose(e);\n        return;\n      }\n    } else if (actionFn.length) {\n      returnValueOfOnOk = actionFn(close); // https://github.com/ant-design/ant-design/issues/23358\n\n      clickedRef.current = false;\n    } else {\n      returnValueOfOnOk = actionFn();\n\n      if (!returnValueOfOnOk) {\n        onInternalClose();\n        return;\n      }\n    }\n\n    handlePromiseOnOk(returnValueOfOnOk);\n  };\n\n  var type = props.type,\n      children = props.children,\n      prefixCls = props.prefixCls,\n      buttonProps = props.buttonProps;\n  return /*#__PURE__*/React.createElement(Button, _extends({}, convertLegacyProps(type), {\n    onClick: onClick,\n    loading: loading,\n    prefixCls: prefixCls\n  }, buttonProps, {\n    ref: ref\n  }), children);\n};\n\nexport default ActionButton;"]},"metadata":{},"sourceType":"module"}